"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[907],{9907:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r,o,a,i,c,s=n(1413),l=n(9439),u=n(7031),d=n(5594),m=n(9182),f=(n(5443),n(531)),p=n(168),h=n(5861),v=n(7762),x=n(7757),y=n.n(x),g=n(2791),b=n(3503),Z=n(7309),w=n(3695),C=n(6031),N=n(7106),j=n(3245),k=n(184),S=u.Z.TextArea,E=b.Z.Step,I=[{id:0,title:"Waiting For Material",content:"Shortage of Material, waiting for resupply",subtitle:"Contact factory to resupply",percent:"0%",value:"pending"},{id:1,title:"Machining items",content:"During machining procedures",subtitle:"Items is in the workshop",percent:"15%",value:"machineProcessing"},{id:2,title:"Machine Finished",content:"Ready for next procedure",subtitle:"Items is in the workshop",percent:"30%",value:"machineProcessFinished"},{id:3,title:"PowderCoating",content:"During PowderCoating procedures, Normally this took 2~3 weeks",subtitle:"Items is in the PowderCoating Factory",percent:"45%",value:"powderCoating"},{id:4,title:"PowderCoating Finished",content:"Ready for next procedure",subtitle:"Items return from the factory to the workshop",percent:"70%",value:"powderCoatingFinished"},{id:5,title:"Waiting for Installation",content:"Contact clients to book in!",subtitle:"Items is in the workshop, wainting to be installed",percent:"85%",value:"waitingForInstallation"},{id:6,title:"Installing",content:"During Installation procedures, Installation normally took 2days",subtitle:"Installation",percent:"90%",value:"installing"},{id:7,title:"Ready",content:"Ready for pickup",subtitle:"Everything is ready",percent:"100%",value:"ready"}];function P(e){var t=e.order,n=e.getOrderByIdandSetdata,r=g.useState(function(){var e,n=0,r=(0,v.Z)(I);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.value===t.fabricationStatus)return n=o.id}}catch(a){r.e(a)}finally{r.f()}return n}()),o=(0,l.Z)(r,2),a=o[0],i=o[1],c=g.useState(t.fabricationInfo),u=(0,l.Z)(c,2),d=u[0],m=u[1],f=function(){var e=(0,h.Z)(y().mark((function e(){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.Z)((0,s.Z)({},t),{},{fabricationStatus:I[a].value,fabricationInfo:d}),e.next=3,(0,j.GQ)(t.id,r).then(n());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(b.Z,{current:a,size:"small",children:I.map((function(e){return(0,k.jsx)(E,{title:e.title,description:e.subtitle,icon:a===e.id&&(0,k.jsx)(N.Z,{})},e.title)}))}),(0,k.jsxs)(O,{children:[(0,k.jsx)(F,{children:(0,k.jsx)(D,{autoSize:{minRows:20,maxRows:10},showCount:!0,maxLength:2e3,rows:20,value:d,onChange:function(e){m(e.target.value)}})}),(0,k.jsx)(F,{children:(0,k.jsx)(D,{autoSize:{minRows:20,maxRows:10},rows:20,maxLength:2e3,value:I[a].content,showCount:!0})})]}),(0,k.jsxs)(R,{children:[a<I.length-1&&(0,k.jsx)(Z.Z,{type:"primary",onClick:function(){i(a+1)},children:"Next"}),a===I.length-1&&(0,k.jsx)(Z.Z,{type:"primary",onClick:function(){return w.ZP.success("Processing complete!")},children:"Production Finished"}),a>0&&(0,k.jsx)(Z.Z,{style:{margin:"0 8px"},onClick:function(){i(a-1)},children:"Previous"}),(0,k.jsx)(Z.Z,{danger:!0,type:"primary",style:{margin:"0 8px"},onClick:function(){f()},children:"Comfirm Status Change"})]})]})}var O=C.ZP.div(r||(r=(0,p.Z)(["\n  min-height: 200px;\n  margin-top: 16px;\n  background-color: #fafafa;\n  border: 1px dashed #e9e9e9;\n  border-radius: 2px;\n  display: grid;\n  grid-template-columns: 2fr 3fr;\n  grid-template-rows: 1fr;\n  grid-column-gap: 10px;\n  grid-row-gap: 0px;\n"]))),R=C.ZP.div(o||(o=(0,p.Z)(["\n  margin-top: 24px;\n"]))),F=C.ZP.div(a||(a=(0,p.Z)([""]))),D=(0,C.ZP)(S)(i||(i=(0,p.Z)(["\n  flex: 0 1 auto;\n  margin: 2rem;\n  width: 90%;\n  height: 200;\n  align-items: center;\n  resize: none;\n"]))),T=(C.ZP.p(c||(c=(0,p.Z)(["\n  margin: 2rem;\n"]))),u.Z.Search),z=[{title:"Order Number",dataIndex:"id",key:"orderNumber"},{title:"OrderAmount",dataIndex:"orderAmount",key:"orderAmount"},{title:"Balance Due",dataIndex:"balanceDue",key:"balanceDue"},{title:"Fabrication Status",dataIndex:"fabricationStatus",key:"fabricationStatus",render:function(e,t,n){return(0,k.jsxs)("span",{children:[(0,k.jsx)(d.Z,{status:(0,f.BU)(e)}),e]})}}],A=function(){var e=(0,g.useState)([]),t=(0,l.Z)(e,2),n=t[0],r=t[1],o=(0,g.useState)({orderId:""}),a=(0,l.Z)(o,2),i=a[0],c=a[1],u=(0,g.useState)(!1),d=(0,l.Z)(u,2),f=d[0],p=d[1],h=function(){p(!0),(0,j.c9)(i).then((function(e){r(e.map((function(e){var t=(0,s.Z)({},e);return(0,s.Z)((0,s.Z)({},t),{},{key:e.id,clientName:e.client.name,orderAmount:e.price.totalAmount})})))})).finally((function(){setTimeout((function(){p(!1)}),1e3)}))};return(0,g.useEffect)((function(){h()}),[i]),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,k.jsx)(T,{style:{minWidth:"15rem",maxWidth:"20rem",marginBottom:"5rem",alignSelf:"flex-end",marginRight:"8rem"},enterButton:"search by OrderId",allowClear:!0,loading:!1,onSearch:function(e){c(e)}})," ",(0,k.jsx)("h3",{children:"Order Fabrication Status"}),(0,k.jsx)(m.Z,{loading:f,rowClassName:function(e,t){return t%2===0?"warehousing-oddRow":"warehousing-evenRow"},columns:z,expandable:{expandedRowRender:function(e){return(0,k.jsx)(P,{order:e,getOrderByIdandSetdata:h})}},dataSource:n})]})})}},5594:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(4942),o=n(1002),a=n(7462),i=n(2791),c=n(5207),s=n(1694),l=n.n(s),u=n(9077),d=n(1113),m=n(9439);function f(e){var t,n=e.prefixCls,r=e.value,o=e.current,a=e.offset,c=void 0===a?0:a;return c&&(t={position:"absolute",top:"".concat(c,"00%"),left:0}),i.createElement("span",{style:t,className:l()("".concat(n,"-only-unit"),{current:o})},r)}function p(e,t,n){for(var r=e,o=0;(r+10)%10!==t;)r+=n,o+=n;return o}function h(e){var t,n,r=e.prefixCls,o=e.count,c=e.value,s=Number(c),l=Math.abs(o),u=i.useState(s),d=(0,m.Z)(u,2),h=d[0],v=d[1],x=i.useState(l),y=(0,m.Z)(x,2),g=y[0],b=y[1],Z=function(){v(s),b(l)};if(i.useEffect((function(){var e=setTimeout((function(){Z()}),1e3);return function(){clearTimeout(e)}}),[s]),h===s||Number.isNaN(s)||Number.isNaN(h))t=[i.createElement(f,(0,a.Z)({},e,{key:s,current:!0}))],n={transition:"none"};else{t=[];for(var w=s+10,C=[],N=s;N<=w;N+=1)C.push(N);var j=C.findIndex((function(e){return e%10===h}));t=C.map((function(t,n){var r=t%10;return i.createElement(f,(0,a.Z)({},e,{key:t,value:r,offset:n-j,current:n===j}))})),n={transform:"translateY(".concat(-p(h,s,g<l?1:-1),"00%)")}}return i.createElement("span",{className:"".concat(r,"-only"),style:n,onTransitionEnd:Z},t)}var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},x=function(e){var t=e.prefixCls,n=e.count,r=e.className,o=e.motionClassName,c=e.style,s=e.title,m=e.show,f=e.component,p=void 0===f?"sup":f,x=e.children,y=v(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),g=(0,i.useContext(u.E_).getPrefixCls)("scroll-number",t),b=(0,a.Z)((0,a.Z)({},y),{"data-show":m,style:c,className:l()(g,r,o),title:s}),Z=n;if(n&&Number(n)%1===0){var w=String(n).split("");Z=w.map((function(e,t){return i.createElement(h,{prefixCls:g,count:Number(n),value:e,key:w.length-t})}))}return c&&c.borderColor&&(b.style=(0,a.Z)((0,a.Z)({},c),{boxShadow:"0 0 0 1px ".concat(c.borderColor," inset")})),x?(0,d.Tm)(x,(function(e){return{className:l()("".concat(g,"-custom-component"),null===e||void 0===e?void 0:e.className,o)}})):i.createElement(p,b,Z)},y=n(4466);function g(e){return-1!==y.Y.indexOf(e)}var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Z=function(e){var t,n,s=e.prefixCls,m=e.scrollNumberPrefixCls,f=e.children,p=e.status,h=e.text,v=e.color,y=e.count,Z=void 0===y?null:y,w=e.overflowCount,C=void 0===w?99:w,N=e.dot,j=void 0!==N&&N,k=e.size,S=void 0===k?"default":k,E=e.title,I=e.offset,P=e.style,O=e.className,R=e.showZero,F=void 0!==R&&R,D=b(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),T=i.useContext(u.E_),z=T.getPrefixCls,A=T.direction,M=z("badge",s),B=Z>C?"".concat(C,"+"):Z,W=null!==p&&void 0!==p||null!==v&&void 0!==v,_="0"===B||0===B,L=j&&!_,Y=L?"":B,G=(0,i.useMemo)((function(){return(null===Y||void 0===Y||""===Y||_&&!F)&&!L}),[Y,_,F,L]),Q=(0,i.useRef)(Z);G||(Q.current=Z);var U=Q.current,q=(0,i.useRef)(Y);G||(q.current=Y);var H=q.current,J=(0,i.useRef)(L);G||(J.current=L);var K=(0,i.useMemo)((function(){if(!I)return(0,a.Z)({},P);var e={marginTop:I[1]};return"rtl"===A?e.left=parseInt(I[0],10):e.right=-parseInt(I[0],10),(0,a.Z)((0,a.Z)({},e),P)}),[A,I,P]),V=null!==E&&void 0!==E?E:"string"===typeof U||"number"===typeof U?U:void 0,X=G||!h?null:i.createElement("span",{className:"".concat(M,"-status-text")},h),$=U&&"object"===(0,o.Z)(U)?(0,d.Tm)(U,(function(e){return{style:(0,a.Z)((0,a.Z)({},K),e.style)}})):void 0,ee=l()((t={},(0,r.Z)(t,"".concat(M,"-status-dot"),W),(0,r.Z)(t,"".concat(M,"-status-").concat(p),!!p),(0,r.Z)(t,"".concat(M,"-status-").concat(v),g(v)),t)),te={};v&&!g(v)&&(te.background=v);var ne=l()(M,(n={},(0,r.Z)(n,"".concat(M,"-status"),W),(0,r.Z)(n,"".concat(M,"-not-a-wrapper"),!f),(0,r.Z)(n,"".concat(M,"-rtl"),"rtl"===A),n),O);if(!f&&W){var re=K.color;return i.createElement("span",(0,a.Z)({},D,{className:ne,style:K}),i.createElement("span",{className:ee,style:te}),i.createElement("span",{style:{color:re},className:"".concat(M,"-status-text")},h))}return i.createElement("span",(0,a.Z)({},D,{className:ne}),f,i.createElement(c.Z,{visible:!G,motionName:"".concat(M,"-zoom"),motionAppear:!1,motionDeadline:1e3},(function(e){var t,n=e.className,o=z("scroll-number",m),c=J.current,s=l()((t={},(0,r.Z)(t,"".concat(M,"-dot"),c),(0,r.Z)(t,"".concat(M,"-count"),!c),(0,r.Z)(t,"".concat(M,"-count-sm"),"small"===S),(0,r.Z)(t,"".concat(M,"-multiple-words"),!c&&H&&H.toString().length>1),(0,r.Z)(t,"".concat(M,"-status-").concat(p),!!p),(0,r.Z)(t,"".concat(M,"-status-").concat(v),g(v)),t)),u=(0,a.Z)({},K);return v&&!g(v)&&((u=u||{}).background=v),i.createElement(x,{prefixCls:o,show:!G,motionClassName:n,className:s,count:H,title:V,style:u,key:"scrollNumber"},$)})),X)};Z.Ribbon=function(e){var t,n=e.className,o=e.prefixCls,c=e.style,s=e.color,d=e.children,m=e.text,f=e.placement,p=void 0===f?"end":f,h=i.useContext(u.E_),v=h.getPrefixCls,x=h.direction,y=v("ribbon",o),b=g(s),Z=l()(y,"".concat(y,"-placement-").concat(p),(t={},(0,r.Z)(t,"".concat(y,"-rtl"),"rtl"===x),(0,r.Z)(t,"".concat(y,"-color-").concat(s),b),t),n),w={},C={};return s&&!b&&(w.background=s,C.color=s),i.createElement("div",{className:"".concat(y,"-wrapper")},d,i.createElement("div",{className:Z,style:(0,a.Z)((0,a.Z)({},w),c)},i.createElement("span",{className:"".concat(y,"-text")},m),i.createElement("div",{className:"".concat(y,"-corner"),style:C})))};var w=Z},5443:function(){}}]);
//# sourceMappingURL=907.99aa849e.chunk.js.map