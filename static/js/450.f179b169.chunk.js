"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[450],{7541:function(n,e,t){var r=t(5671),c=t(3144),a=t(4569),i=t.n(a),u=t(7497),o=t(5e3),s=t(7369),f=t(5563),d=function(){function n(){(0,r.Z)(this,n),this.axiosInstance=void 0,this.axiosInstance=i().create({timeout:1e4,baseURL:"",headers:{"Content-Type":"application/json;charset=utf-8","X-Requested-Width":"XMLHttpRequest"}}),this.interceptRequest(),this.interceptResponse()}return(0,c.Z)(n,[{key:"setIsloading",value:function(n){f.h.dispatch((0,o.ab)(n))}},{key:"setError",value:function(n){f.h.dispatch((0,o.sT)(n))}},{key:"interceptRequest",value:function(){this.axiosInstance.interceptors.request.use((function(n){return n.headers.token=u.Z.getCachedDate("token")||"",n.url.includes("/upload")&&(n.headers["Content-Type"]="multipart/form-data"),n}))}},{key:"interceptResponse",value:function(){this.axiosInstance.interceptors.response.use((function(n){if(null!==n&&void 0!==n&&n.data){var e=n.data.code;return"200"===(void 0===e?"200":e)||"ok"===n.statusText.toLocalLowerCase()?Promise.resolve(n):Promise.reject(n)}return Promise.reject("no data")}))}},{key:"get",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,c){e.setIsloading(!0),e.axiosInstance.get(n,{params:t}).then((function(n){r(n.data)})).catch((function(n){e.setError(n),(0,s.Z)({type:"warning",message:"Unable to acquire data, please check internet connection",messageTarget:""}),c(n)})).finally(e.setIsloading(!1))}))}},{key:"post",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return new Promise((function(a,i){e.setIsloading(!0),"object"===typeof t&&"FormData"===t.constructor.name&&(r["Content-Type"]="multipart/form-data"),e.axiosInstance.post(n,t,r).then((function(n){a(n.data),(0,s.Z)({type:"success",messageTarget:"".concat(c," is successfully created")})})).catch((function(n){e.setError(n),(0,s.Z)({type:"warning",messageTarget:"".concat(c," creation failed, please try again later!")}),i(n)})).finally(e.setIsloading(!1))}))}},{key:"patch",value:function(n,e,t){var r=this;return new Promise((function(c,a){r.setIsloading(!0),r.axiosInstance.patch(n,e).then((function(n){c(n.data),(0,s.Z)({type:"success",messageTarget:"".concat(t," successfully updated")})})).catch((function(n){r.setError(n),(0,s.Z)({type:"warning",messageTarget:"".concat(t," update failed, please try again later")}),a(n)})).finally(r.setIsloading(!1))}))}},{key:"put",value:function(n,e,t){var r=this;return new Promise((function(c,a){r.setIsloading(!0),r.axiosInstance.put(n,e).then((function(n){c(n.data),(0,s.Z)({type:"success",messageTarget:"".concat(t," is succefully updated")})})).catch((function(n){(0,s.Z)({type:"warning",messageTarget:"".concat(t," update failed, please try again later")}),a(n)})).finally(r.setIsloading(!1))}))}}]),n}();e.Z=new d},3245:function(n,e,t){t.d(e,{B$:function(){return k},BJ:function(){return E},Cj:function(){return T},GQ:function(){return m},IU:function(){return g},Kt:function(){return b},Pc:function(){return y},Ui:function(){return U},XW:function(){return Z},b6:function(){return F},c$:function(){return P},c9:function(){return v},dt:function(){return I},gZ:function(){return h},si:function(){return C},uj:function(){return x},vm:function(){return w}});var r=t(1413),c=t(5861),a=t(7757),i=t.n(a),u=t(7541),o=t(1966),s=t(531),f=t(4245),d=t(5563),p=t(7369),l=(d.h.dispatch,(0,o.Z)("dep")),h=function(){var n=(0,c.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.post("".concat(l.dbUri,"/orders"),e,{},"order");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=function(n,e,t,r){t(!0);var a=function(){var r=(0,c.Z)(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.Z.get("".concat(l.dbUri,"/orders?").concat(f.stringify((0,s.yE)(n)))).then((function(n){e(n)})).finally((function(){t(!1)}));case 2:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();a()},v=function(){var n=(0,c.Z)(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.get("".concat(l.dbUri,"/orders?").concat(f.stringify((0,s.yE)(e))));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u.Z.put("".concat(l.dbUri,"/orders/").concat(e),t,"Payment");case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),m=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u.Z.put("".concat(l.dbUri,"/orders/").concat(e),t,"Fabrication Status");case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Z=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u.Z.put("".concat(l.dbUri,"/orders/").concat(e),t,"Logistic Status");case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),w=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u.Z.put("".concat(l.dbUri,"/orders/").concat(e),t,"LogisticInfo");case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),k=function(n,e,t,a,o,d){t((0,r.Z)((0,r.Z)({},e),{},{userInfo:!0}));var p=function(){var p=(0,c.Z)(i().mark((function c(){return i().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,u.Z.get("".concat(l.dbUri,"/clients?").concat(f.stringify((0,s.yE)(n)))).then((function(n){if(n.length>0){o((0,r.Z)((0,r.Z)({},d),{},{userCreateOrEditSwitch:!0}));var e=n[0],t=e.name,c=e.id,i=e.email,u=e.mobile,s=e.vip,f=e.address,p=e.postcode;a.setFieldsValue({client:{name:t,email:i,mobile:u,vip:s,address:f,postcode:p,id:c}})}else a.setFieldsValue({client:{name:null,email:null,mobile:null,vip:null,address:null,postcode:null,id:null}})})).finally((function(){t((0,r.Z)((0,r.Z)({},e),{},{userInfo:!1}))}));case 2:case"end":return c.stop()}}),c)})));return function(){return p.apply(this,arguments)}}();(0,s.Ds)(p,3e3)()},b=function(){var n=(0,c.Z)(i().mark((function n(e,t){var c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("update"!==t){n.next=4;break}return c=(0,r.Z)((0,r.Z)({},e),{},{updatedAt:(0,s.uO)()}),n.next=4,u.Z.put("".concat(l.dbUri,"/clients/").concat(c.id,"}"),e,"User Info".concat(e.name));case 4:if("create"!==t){n.next=10;break}return c=(0,r.Z)((0,r.Z)({},e),{},{createdAt:(0,s.uO)()}),n.next=8,u.Z.post("".concat(l.dbUri,"/clients"),e,{},"user: ".concat(e.name));case 8:n.next=11;break;case 10:return n.abrupt("return",(0,p.Z)({type:"error",message:"User Component Error"}));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),x=function(){var n=(0,c.Z)(i().mark((function n(e,t,c,a,o){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,r.Z)((0,r.Z)({},c),{},{productSearch:!0})),n.next=3,u.Z.get("".concat(l.dbUri,"/products?sku=").concat(e)).then((function(n){var e=a.getFieldValue("products");if(!(n.length>0))return null;var t=n[0],r=t.name,c={id:t.id,name:r,size:t.size,price:t.price,pcPrice:t.powdercoatingPrice,installPrice:t.installationPrice,currentInStock:t.currentInStock},i=e.map((function(n,e){return e===o?(n.name=c.name,n.id=c.id,n.size=c.size,n.price=c.price,n.pcPrice=c.pcPrice,n.installPrice=c.installPrice,n.currentInStock=c.currentInStock,n):n}));a.setFieldsValue({products:i})})).finally((function(){setTimeout((function(){t((0,r.Z)((0,r.Z)({},c),{},{productSearch:!1}))}),1e3)}));case 3:case"end":return n.stop()}}),n)})));return function(e,t,r,c,a){return n.apply(this,arguments)}}(),I=function(){var n=(0,c.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,r.Z)((0,r.Z)({},e),{},{currentInStock:e.currentInStock-1}),n.next=3,u.Z.put("".concat(l.dbUri,"/products/").concat(e.id),t,"".concat(e.name));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),P=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.patch("".concat(l.dbUri,"/orders/").concat(e),{checked:!t},"OrderNumber: ".concat(e));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),U=function(){var n=(0,c.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(l.dbUri,"/products?currentInStock_gte=1&currentInStock_lte=5"),n.next=3,u.Z.get(t).then((function(n){e(n)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),F=function(){var n=(0,c.Z)(i().mark((function n(){var e,t=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,u.Z.get("".concat(l.dbUri,"/products?").concat(f.stringify((0,s.yE)(e))));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=(0,c.Z)(i().mark((function n(e,t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.Z.put("".concat(l.dbUri,"/products/").concat(e),t,"Product");case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),C=function(n){return u.Z.post("".concat(l.dbUri,"/products"),n,{},"Product")},E=function(){var n=(0,c.Z)(i().mark((function n(){var e,t=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,u.Z.get("".concat(l.dbUri,"/products?").concat(f.stringify((0,s.yE)(e))));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},1966:function(n,e){var t={dbUri:"http://localhost:3001"},r={dbUri:"http://137.147.94.100:3001"};e.Z=function(n){if("dev"===n)return t;if("dep"===n)return r;throw new Error("Wrong Env selection")}},7369:function(n,e,t){t(6072);var r=t(3695);e.Z=function(n){var e;return e=n.message?n.message:n.messageTarget,r.ZP[n.type](e)}},531:function(n,e,t){t.d(e,{s9:function(){return m},Ds:function(){return Z},ey:function(){return b},BU:function(){return v},nF:function(){return k},uo:function(){return y},Xz:function(){return g},yE:function(){return p},U9:function(){return h},uO:function(){return w}});var r,c,a,i,u=t(7762),o=t(1413),s=t(7892),f=t.n(s);!function(n){n.pending="pending",n.machineProcessing="machineProcessing",n.machineProcessFinished="machineProcessFinished",n.powderCoating="powderCoating",n.powderCoatingFinished="powderCoatingFinished",n.waitingForInstallation="waitingForInstallation",n.installing="installing",n.ready="ready"}(r||(r={})),function(n){n.waitingForCarrier="waitingForCarrier",n.pickupAlready="pickupAlready",n.delivering="delivering",n.delivered="delivered",n.cannotDeliver="cannotDeliver",n.returningToVender="returningToVender",n.returnedItemArrived="returnedItemArrived",n.itemDamagedInTransport="itemDamagedInTransport"}(c||(c={})),function(n){n.AustralianPost="Australian Post",n.BigPost="Big Post",n.FastWay="FastWay"}(a||(a={})),function(n){n.pending="pending",n.partiallyPayed="partiallyPayed",n.fullyPayed="fullyPayed"}(i||(i={}));var d=t(3245),p=function(n){var e=(0,o.Z)({},n);return Object.keys(e).forEach((function(n){var t=e[n];l(t)&&delete e[n]})),e},l=function(n){return void 0===n||null===n||""===n},h=function(n){return n>=10?"processing":n>=5?"success":n>=3?"warning":n<3?"error":"default"},g=function(n){switch(n){case"pending":return"error";case"partiallyPayed":case"machineProcessing":case"machineProcessFinished":case"powderCoating":case"powderCoatingFinished":case"installing":return"default";case"fullyPayed":case"ready":return"success"}},v=function(n){switch(n){case"pending":return"error";case"machineProcessing":case"machineProcessFinished":case"powderCoating":case"powderCoatingFinished":case"waitingForInstallation":case"installing":return"processing";case"ready":return"success"}},y=function(n){switch(n){case"waitingForCarrier":case"itemDamagedInTransport":return"error";case"pickupAlready":case"delivering":return"processing";case"delivered":case"returnedItemArrived":return"success";case"cannotDeliver":case"returningToVender":return"warning"}},m=function(n,e){var t,r=0,c=(0,u.Z)(e);try{for(c.s();!(t=c.n()).done;){t.value.type===n?r++:r=r}}catch(a){c.e(a)}finally{c.f()}return r},Z=function(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];e&&clearTimeout(e),e=setTimeout((function(){n.apply(c)}),t)}},w=function(){return f()().format("YYYY-MM-DD")},k=function(n){var e,t=[],r=(0,u.Z)(n);try{for(r.s();!(e=r.n()).done;){var c=e.value;c.currentInStock>=1?t=[]:t.push({sku:c.sku})}}catch(a){r.e(a)}finally{r.f()}return t},b=function(n){(0,d.dt)(n)}}}]);
//# sourceMappingURL=450.f179b169.chunk.js.map