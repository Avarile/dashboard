"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[730],{5730:function(e,n,i){i.r(n),i.d(n,{default:function(){return H}});var t,r,a,o,d,l=i(168),s=i(9439),c=i(5594),u=i(3099),m=i(9182),g=(i(5443),i(531)),p=i(1413),h=i(5861),x=i(7762),f=i(7757),v=i.n(f),Z=i(2791),b=i(7031),y=i(3503),j=i(7309),w=i(3695),C=i(6031),k=i(7106),S=i(3245),I=i(184),P=b.Z.TextArea,R=y.Z.Step,D=[{id:0,title:"Waiting For Carrier",content:"Item packaged, Waiting for Carrier company to collect it.",subtitle:"Contact Carrier company",percent:"0%",value:"waitingForCarrier"},{id:1,title:"Already pickedUp",content:"Carrier company already collected item.",subtitle:"Items is in the depot",percent:"15%",value:"pickupAlready"},{id:2,title:"Delivering in Progress",content:"Delivering",subtitle:"Items is being delivering!",percent:"30%",value:"delivering"},{id:3,title:"Delivered",content:"Item already delivered to the depot or client's designated address.",subtitle:"Already delivered",percent:"45%",value:"delivered"},{id:4,title:"Cannot deliver!",content:"Wrong Address or no one in the house.",subtitle:"Something wrong!",percent:"70%",value:"cannotDeliver"},{id:5,title:"Returing to Vender",content:"Cannot deliver, item returning to vender!",subtitle:"Returning!",percent:"85%",value:"returningToVender"},{id:6,title:"Item Returned",content:"Returned Item Received!",subtitle:"Returned",percent:"90%",value:"returnedItemArrived"},{id:7,title:"Item Damaged",content:"Item Damaged during transpotation, consideration compensation to the client as an option, or return the item! and send a new one",subtitle:"Damaged",percent:"100%",value:"itemDamagedInTransport"}];function F(e){var n=e.order,i=e.getOrder,t=Z.useState(function(){var e,i=0,t=(0,x.Z)(D);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(r.value===n.logisticStatus)return i=r.id}}catch(a){t.e(a)}finally{t.f()}return i}()),r=(0,s.Z)(t,2),a=r[0],o=r[1],d=Z.useState(n.logisticStatus),l=(0,s.Z)(d,2),c=l[0],u=l[1],m=function(){var e=(0,h.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,p.Z)((0,p.Z)({},n),{},{logisticStatus:D[a].value}),e.next=3,(0,S.XW)(n.id,t).then(i());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(y.Z,{current:a,size:"small",children:D.map((function(e){return(0,I.jsx)(R,{title:e.title,description:e.subtitle,icon:e.id>=4?null:e.id===a&&(0,I.jsx)(k.Z,{}),status:a===e.id&&e.id>=4?"error":"process"},e.title)}))}),(0,I.jsxs)(T,{children:[(0,I.jsx)(O,{children:(0,I.jsx)(N,{autoSize:{minRows:20,maxRows:10},showCount:!0,maxLength:2e3,rows:20,value:c,onChange:function(e){u(e.target.value)}})}),(0,I.jsx)(O,{children:(0,I.jsx)(N,{autoSize:{minRows:20,maxRows:10},rows:20,maxLength:2e3,value:D[a].content,showCount:!0})})]}),(0,I.jsxs)(A,{children:[a<D.length-1&&(0,I.jsx)(j.Z,{type:"primary",style:{width:"6rem"},onClick:function(){o(a+1)},children:"Next"}),a===D.length-1&&(0,I.jsx)(j.Z,{type:"primary",style:{width:"6rem"},onClick:function(){return w.ZP.success("Processing complete!")},children:"Finished"}),a>0&&(0,I.jsx)(j.Z,{style:{margin:"0 8px"},onClick:function(){o(a-1)},children:"Previous"}),(0,I.jsx)(j.Z,{danger:!0,type:"primary",style:{margin:"0 8px"},onClick:function(){m()},children:"Comfirm Status Change"})]})]})}var T=C.ZP.div(t||(t=(0,l.Z)(["\n  min-height: 200px;\n  margin-top: 16px;\n  background-color: #fafafa;\n  border: 1px dashed #e9e9e9;\n  border-radius: 2px;\n  display: grid;\n  grid-template-columns: 2fr 3fr;\n  grid-template-rows: 1fr;\n  grid-column-gap: 10px;\n  grid-row-gap: 0px;\n"]))),A=C.ZP.div(r||(r=(0,l.Z)(["\n  margin-top: 24px;\n"]))),O=C.ZP.div(a||(a=(0,l.Z)([""]))),N=(0,C.ZP)(P)(o||(o=(0,l.Z)(["\n  flex: 0 1 auto;\n  margin: 2rem;\n  width: 90%;\n  height: 200;\n  align-items: center;\n  resize: none;\n"]))),q=(C.ZP.p(d||(d=(0,l.Z)(["\n  margin: 2rem;\n"]))),i(1666)),L=i(570),Y=i(3734),V=i(5969),M=q.Z.RangePicker,W=(b.Z.Search,{labelCol:{span:6},wrapperCol:{span:18}});function $(e){e.loadingStatus;var n=e.getOrder,i=(e.setSearchParams,L.Z.useForm()),t=(0,s.Z)(i,1)[0],r=function(){var e=t.getFieldValue("logistic");n(e)};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(L.Z,(0,p.Z)((0,p.Z)({},W),{},{name:"flatSelection",style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},onFinish:function(){return r()},form:t,children:[(0,I.jsx)(L.Z.Item,{style:{width:"30rem",marginRight:"1rem"},name:["logistic","logisticStatus"],label:"Status",rules:[{required:!1}],children:(0,I.jsx)(Y.Z,{placeholder:"Select",onChange:function(){console.log()},children:V.fv.map((function(e){return(0,I.jsx)(Y.Z.Option,{value:e.name,children:e.name},e.id)}))})}),(0,I.jsx)(L.Z.Item,{style:{width:"30rem",marginRight:"1rem"},name:["logistic","logisticProvider"],label:"Provider",rules:[{required:!1}],children:(0,I.jsx)(Y.Z,{placeholder:"Select",onChange:function(){},children:V.ZF.map((function(e){return(0,I.jsx)(Y.Z.Option,{value:e.name,children:e.name},e.id)}))})}),(0,I.jsx)(L.Z.Item,{style:{width:"30rem",marginRight:"1rem"},name:["logistic","dateRange"],label:"Date Range",rules:[{required:!1}],children:(0,I.jsx)(M,{format:"YYYY-MM-DD",onChange:function(e,n){!function(e,n){console.log("Value: ".concat(e),"dateRange: ".concat(n))}(e,n)},onOk:function(e){return function(e){console.log(e)}(e)}})}),(0,I.jsx)(L.Z.Item,{label:"Order ID",rules:[{required:!1}],name:["logistic","id"],style:{width:"30rem",marginRight:"1rem"},children:(0,I.jsx)(b.Z,{placeholder:"Order Id"})})," ",(0,I.jsx)(L.Z.Item,{label:"Parcel ID",rules:[{required:!1}],name:["logistic","parcelId"],style:{width:"30rem",marginRight:"1rem"},children:(0,I.jsx)(b.Z,{placeholder:"Parcel Id"})}),(0,I.jsx)(L.Z.Item,{label:"Controls",style:{width:"30rem",marginRight:"1rem"},children:(0,I.jsxs)(u.Z,{children:[(0,I.jsx)(j.Z,{type:"primary",style:{width:"7rem"},loading:!1,onClick:function(){r()},children:"Search"}),(0,I.jsx)(j.Z,{danger:!0,type:"primary",style:{width:"7rem"},loading:!1,onClick:function(){t.resetFields(),r()},children:"Reset"})]})})]}))})}var z,U=i(5500),B={labelCol:{span:8},wrapperCol:{span:16}},X={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},E=function(e){var n=e.visible,i=e.setVisible,t=e.order,r=e.setLoadingStatus,a=L.Z.useForm(),o=(0,s.Z)(a,1)[0],d=Z.useState(!1),l=(0,s.Z)(d,2),c=l[0],u=l[1],m=Z.useState("Content of the modal"),g=(0,s.Z)(m,2),h=(g[0],g[1]),x=Z.useRef({logisticProvider:"",trackingNumber:"",pickupAt:new Date,logisticSideNote:""}),f=function(e){r(!0);var n=o.getFieldValue("logistic");x.current={logisticProvider:n.logisticProvider,trackingNumber:n.trackingNumber,pickupAt:x.current.pickupAt,logisticSideNote:n.logisticSideNote},t=(0,p.Z)((0,p.Z)({},t),x.current),(0,S.vm)(t.id,t).then((function(){setTimeout((function(){r(!1)}),2e3)})).then((function(){o.resetFields()}))},v=function(e,n){return console.log("the Date value is: ".concat(e,", the Date is ").concat(n)),n};return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(U.Z,{title:"Logistic Info",visible:n,onOk:function(){h("The modal will be closed after two seconds"),u(!0),setTimeout((function(){i(!1),u(!1)}),2e3)},confirmLoading:c,onCancel:function(){console.log("Clicked cancel button"),i(!1)},children:(0,I.jsxs)(L.Z,(0,p.Z)((0,p.Z)({},B),{},{name:"logisticInfo",onFinish:f,validateMessages:X,form:o,children:[(0,I.jsx)(L.Z.Item,{name:["logistic","logisticProvider"],label:"Provider",rules:[{required:!0}],children:(0,I.jsx)(Y.Z,{children:V.ZF.map((function(e){return(0,I.jsx)(Y.Z.Option,{value:e.name,children:e.name},e.id)}))})}),(0,I.jsx)(L.Z.Item,{name:["logistic","trackingNumber"],label:"trackingNumber",rules:[{required:!0}],children:(0,I.jsx)(b.Z,{})}),(0,I.jsx)(L.Z.Item,{name:["logistic","pickupAt"],label:"Parcel Pickup at",rules:[{required:!0}],children:(0,I.jsx)(q.Z,{format:"YYYY-MM-DD",onChange:function(e,n){x.current=(0,p.Z)((0,p.Z)({},x.current),{},{pickupAt:v(e,n)})}})}),(0,I.jsx)(L.Z.Item,{name:["logistic","logisticSideNote"],label:"SideNote",children:(0,I.jsx)(b.Z.TextArea,{})}),(0,I.jsx)(L.Z.Item,{wrapperCol:(0,p.Z)((0,p.Z)({},B.wrapperCol),{},{offset:8}),children:(0,I.jsx)(j.Z,{type:"primary",onClick:function(e){f()},children:"Submit"})})]}))})})},H=function(){var e=(0,Z.useState)([]),n=(0,s.Z)(e,2),i=n[0],t=n[1],r=(0,Z.useState)({logisticProvider:void 0,logisticStatus:void 0,id:void 0,pickupAt:void 0}),a=(0,s.Z)(r,2),o=a[0],d=a[1],l=(0,Z.useState)(!1),p=(0,s.Z)(l,2),h=p[0],x=p[1],f=Z.useState(!1),v=(0,s.Z)(f,2),b=v[0],y=v[1],j=function(e){(0,S.IU)(e,t,x)};(0,Z.useEffect)((function(){(0,S.IU)(o,t,x)}),[]);var w=[{title:"Order Number",dataIndex:"id",key:"orderNumber"},{title:"Order CreatedAt",dataIndex:"createdAt",key:"createdAt"},{title:"Tracking Numner",dataIndex:"trackingNumber",key:"trackingNumber"},{title:"Logistic Provider",dataIndex:"logisticProvider",key:"logisticProvider"},{title:"Logistic Status",dataIndex:"logisticStatus",key:"logisticStatus",render:function(e,n,i){return(0,I.jsxs)("span",{children:[(0,I.jsx)(c.Z,{status:(0,g.uo)(e)}),e]})}},{title:"Action",dataIndex:"providerSelect",key:"providerSelect",render:function(e,n,i){return(0,I.jsxs)(u.Z,{size:"middle",children:[(0,I.jsx)("a",{onClick:function(){y(!0)},children:"Update Info"}),(0,I.jsx)(E,{visible:b,setVisible:y,order:n,setLoadingStatus:x})]})}}];return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,I.jsx)(G,{children:(0,I.jsx)($,{loadingStatus:h,getOrder:j,setSearchParams:d})}),(0,I.jsx)("h3",{children:"Logistic Status"}),(0,I.jsx)(m.Z,{loading:h,rowClassName:function(e,n){return n%2===0?"warehousing-oddRow":"warehousing-evenRow"},columns:w,expandable:{expandedRowRender:function(e){return(0,I.jsx)(F,{order:e,getOrder:j})}},dataSource:i})]})})},G=C.ZP.div(z||(z=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n"])))},5969:function(e,n,i){i.d(n,{CY:function(){return d},M5:function(){return a},Xv:function(){return t},ZF:function(){return s},fv:function(){return l},gg:function(){return r},iM:function(){return o}});var t=[{id:0,name:"no detail"},{id:1,name:"sideOpen"},{id:2,name:"sideOpen with Drawers"},{id:3,name:"topOpen"},{id:4,name:"caravan Toolbox"},{id:5,name:"generator Toolbox"},{id:6,name:"3/4 sideopen Toolbox"},{id:7,name:"full sideopen Toolbox"},{id:8,name:"full sideopen Toolbox with drawers"},{id:9,name:"2 doors canopy"},{id:10,name:"3 doors canopy"}],r=[{id:0,name:"no subtype"},{id:1,name:"dogbox"},{id:2,name:"drawbar"},{id:3,name:"gullwing"},{id:4,name:"sideOpen Toolbox"},{id:5,name:"topOpen Toolbox"},{id:6,name:"underTray Toolbox"},{id:7,name:"campers Toolbox"},{id:8,name:"trundel drawer"},{id:9,name:"tub Toolbox"},{id:10,name:"partTray canopy"},{id:11,name:"dualcab canopy"},{id:12,name:"extracab canopy"},{id:13,name:"singlecab canopy"},{id:14,name:"dog canopy"},{id:15,name:"1000H canopy"},{id:16,name:"jackoff canopy"}],a=[{id:1,name:"toolbox"},{id:2,name:"canopy"},{id:3,name:"tray"},{id:4,name:"accessories"},{id:5,name:"4x4"},{id:6,name:"serviceBody"},{id:7,name:"combo"},{id:8,name:"tubCanopy"}],o=[{id:0,name:"pending"},{id:1,name:"partiallyPayed"},{id:2,name:"fullyPayed"}],d=[{id:0,name:"pending"},{id:1,name:"machineProcessing"},{id:2,name:"machineProcessFinished"},{id:3,name:"powderCoating"},{id:4,name:"powderCoatingFinished"},{id:5,name:"waitingForInstallation"},{id:6,name:"installing"},{id:7,name:"ready"}],l=[{id:0,name:"waitingForCarrier"},{id:1,name:"delivering"},{id:2,name:"delivered"},{id:3,name:"cannotDeliver"},{id:4,name:"returningToVender"},{id:5,name:"returnedItemArrived"},{id:6,name:"itemDamagedInTransport"}],s=[{id:0,name:"Australian Post"},{id:1,name:"Big Post"},{id:2,name:"FastWay"}]},5443:function(){}}]);
//# sourceMappingURL=730.9723f6c5.chunk.js.map