"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[907],{9907:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var i,r,a,o,s,l=n(9439),d=n(7031),c=n(5594),u=n(9182),h=(n(5443),n(531)),p=n(168),f=n(1413),m=n(5861),g=n(7762),x=n(7757),w=n.n(x),y=n(2791),b=n(3503),Z=n(7309),v=n(3695),k=n(6031),j=n(7106),S=n(3245),C=n(184),I=d.Z.TextArea,P=b.Z.Step,R=[{id:0,title:"Waiting For Material",content:"Shortage of Material, waiting for resupply",subtitle:"Contact factory to resupply",percent:"0%",value:"pending"},{id:1,title:"Machining items",content:"During machining procedures",subtitle:"Items is in the workshop",percent:"15%",value:"machineProcessing"},{id:2,title:"Machine Finished",content:"Ready for next procedure",subtitle:"Items is in the workshop",percent:"30%",value:"machineProcessFinished"},{id:3,title:"PowderCoating",content:"During PowderCoating procedures, Normally this took 2~3 weeks",subtitle:"Items is in the PowderCoating Factory",percent:"45%",value:"powderCoating"},{id:4,title:"PowderCoating Finished",content:"Ready for next procedure",subtitle:"Items return from the factory to the workshop",percent:"70%",value:"powderCoatingFinished"},{id:5,title:"Waiting for Installation",content:"Contact clients to book in!",subtitle:"Items is in the workshop, wainting to be installed",percent:"85%",value:"waitingForInstallation"},{id:6,title:"Installing",content:"During Installation procedures, Installation normally took 2days",subtitle:"Installation",percent:"90%",value:"installing"},{id:7,title:"Ready",content:"Ready for pickup",subtitle:"Everything is ready",percent:"100%",value:"ready"}];function F(e){var t=e.order,n=e.getOrderByIdandSetdata,i=y.useState(function(){var e,n=0,i=(0,g.Z)(R);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(r.value===t.fabricationStatus)return n=r.id}}catch(a){i.e(a)}finally{i.f()}return n}()),r=(0,l.Z)(i,2),a=r[0],o=r[1],s=y.useState(t.fabricationInfo),d=(0,l.Z)(s,2),c=d[0],u=d[1],h=function(){var e=(0,m.Z)(w().mark((function e(){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,f.Z)((0,f.Z)({},t),{},{fabricationStatus:R[a].value,fabricationInfo:c}),e.next=3,(0,S.GQ)(t.id,i).then(n());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(b.Z,{current:a,size:"small",children:R.map((function(e){return(0,C.jsx)(P,{title:e.title,description:e.subtitle,icon:a===e.id&&(0,C.jsx)(j.Z,{})},e.title)}))}),(0,C.jsxs)(D,{children:[(0,C.jsx)(O,{children:(0,C.jsx)(N,{autoSize:{minRows:20,maxRows:10},showCount:!0,maxLength:2e3,rows:20,value:c,onChange:function(e){u(e.target.value)}})}),(0,C.jsx)(O,{children:(0,C.jsx)(N,{autoSize:{minRows:20,maxRows:10},rows:20,maxLength:2e3,value:R[a].content,showCount:!0})})]}),(0,C.jsxs)(B,{children:[a<R.length-1&&(0,C.jsx)(Z.Z,{type:"primary",onClick:function(){o(a+1)},style:{width:"6rem"},children:"Next"}),a===R.length-1&&(0,C.jsx)(Z.Z,{type:"primary",onClick:function(){return v.ZP.success("Processing complete!")},style:{width:"6rem"},children:"Production Finished"}),a>0&&(0,C.jsx)(Z.Z,{style:{margin:"0 8px",width:"6rem"},onClick:function(){o(a-1)},children:"Previous"}),(0,C.jsx)(Z.Z,{danger:!0,type:"primary",style:{margin:"0 8px"},onClick:function(){h()},children:"Comfirm Status Change"})]})]})}var D=k.ZP.div(i||(i=(0,p.Z)(["\n  min-height: 200px;\n  margin-top: 16px;\n  background-color: #fafafa;\n  border: 1px dashed #e9e9e9;\n  border-radius: 2px;\n  display: grid;\n  grid-template-columns: 2fr 3fr;\n  grid-template-rows: 1fr;\n  grid-column-gap: 10px;\n  grid-row-gap: 0px;\n"]))),B=k.ZP.div(r||(r=(0,p.Z)(["\n  margin-top: 24px;\n"]))),O=k.ZP.div(a||(a=(0,p.Z)([""]))),N=(0,k.ZP)(I)(o||(o=(0,p.Z)(["\n  flex: 0 1 auto;\n  margin: 2rem;\n  width: 90%;\n  height: 200;\n  align-items: center;\n  resize: none;\n"]))),z=(k.ZP.p(s||(s=(0,p.Z)(["\n  margin: 2rem;\n"]))),d.Z.Search),A=[{title:"Order Number",dataIndex:"id",key:"orderNumber"},{title:"OrderAmount",dataIndex:"pricetotalAmount",key:"orderAmount"},{title:"Balance Due",dataIndex:"balanceDue",key:"balanceDue"},{title:"Fabrication Status",dataIndex:"fabricationStatus",key:"fabricationStatus",render:function(e,t,n){return(0,C.jsxs)("span",{children:[(0,C.jsx)(c.Z,{status:(0,h.BU)(e)}),e]})}}],M=function(){var e=(0,y.useState)([]),t=(0,l.Z)(e,2),n=t[0],i=t[1],r=(0,y.useState)({orderId:""}),a=(0,l.Z)(r,2),o=a[0],s=a[1],d=(0,y.useState)(!1),c=(0,l.Z)(d,2),h=c[0],p=c[1],f=function(){p(!0),(0,S.c9)(o).then((function(e){i(e)})).finally((function(){setTimeout((function(){p(!1)}),1e3)}))};return(0,y.useEffect)((function(){f()}),[o]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,C.jsx)(z,{style:{minWidth:"15rem",maxWidth:"20rem",marginBottom:"5rem",alignSelf:"flex-end",marginRight:"8rem"},enterButton:"search by OrderId",allowClear:!0,loading:!1,onSearch:function(e){s(e)}})," ",(0,C.jsx)("h3",{children:"Order Fabrication Status"}),(0,C.jsx)(u.Z,{loading:h,rowClassName:function(e,t){return t%2===0?"warehousing-oddRow":"warehousing-evenRow"},columns:A,expandable:{expandedRowRender:function(e){return(0,C.jsx)(F,{order:e,getOrderByIdandSetdata:f})}},dataSource:n})]})})}},5443:function(){}}]);
//# sourceMappingURL=907.ce2935a4.chunk.js.map